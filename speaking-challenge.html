<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171137279-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-171137279-2');
  </script>


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The work of a small guy hoping for a big change">
  <meta name="keywords"
    content="mhbthemes, resume, cv, portfolio, personal, developer, designer,personal resume, onepage, clean, modern">
  <meta name="author" content="Madhav Malhotra">

  <title>Speaking better, weekly</title>

  <!-- Favicon -->
  <link rel="shortcut icon" href="assets/img/favicon.png" type="image/png">

  <!--== bootstrap ==-->
  <link href="/assets/css/bootstrap.min.css" rel="stylesheet">

  <!--== font-awesome ==-->
  <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

  <!--== style css ==-->
  <link href="/style.css" rel="stylesheet">

  <!--== responsive css ==-->
  <link href="/assets/css/responsive.css" rel="stylesheet">

  <!--== theme color css ==-->
  <link href="/assets/theme-color/color_3.css" rel="stylesheet">

  <!--== jQuery ==-->
  <script src="/assets/js/jquery-2.1.4.min.js"></script>

  <style>
    div.custom-bg {
      background-color: #DB3F58;
      color: white;
      font-family: 'Montserrat';
      font-weight: 600;
      text-transform: capitalize;
      padding: 6em 0;
    }

    div.custom-bg .intro {
      margin-top: 5rem;
      margin-bottom: 6.5rem;
    }

    div.custom-bg .intro h1 {
      color: white;
      font-size: 4.5rem;
    }

    #date-list>.col-12 {
      margin-bottom: 3rem;
    }

    #date-list>.col-12>h2 {
      color: white;
    }

    #date-list>.col-12>span,
    #date-list>.col-12>span>a {
      color: white;
    }

    #date-list>.col-12>span>a:hover {
      text-decoration: underline;
    }

    a[data-empty="true"] {
      height: 19px;
      display: block;
    }
  </style>


  <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
</head>

<body>

  <!--======= PRELOADER =======-->
  <div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
  </div>

  <!--===== HEADER AREA =====-->
  <header class="navbar custom-navbar navbar-fixed-top">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-3 col-xs-12">
          <div class="logo">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <a class="theme-color" href="index.html">Madhav</a>
            <!--== logo ==-->
          </div>
        </div>

        <div class="col-md-9 col-sm-8 col-xs-12">
          <nav class="main-menu">
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <!--== manin menu ==-->
                <li><a class="smoth-scroll" href="#about">About</a></li>
                <li><a class="smoth-scroll" href="#work">Portfolio</a></li>
                <li><a class="smoth-scroll" href="#contact">Contact</a></li>
                <li><a class="smoth-scroll" href="https://resources.madhavmalhotra.com">Resources</a>
                </li>
                <li><a class="smoth-scroll" href="blog.html">Blog</a></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
      <!--/.row-->
    </div>
    <!--/.container-->
  </header>
  <!--===== END HEADER AREA ======-->

  <!--======= WELCOME AREA =======-->
  <div class="custom-bg">
    <div class="intro">
      <h1 class="text-center">52 Weeks of Speaking üé§</h1>
      <p class="text-center">New video of me growing my speaking skills (and/or embarrassing myself) every Sunday üòâ</p>
    </div>
    <div class="container">
      <div class="row text-center" id="date-list">

      </div>
    </div>
  </div>
  <!--===== END WELCOME AREA =====-->


  <!--====== FOOTER AREA ======-->
  <footer class="footer">
    <div class="container">
      <div class="row wow zoomIn" data-wow-delay="0.4s">
        <div class="col-md-12 text-center">
          <p>Find me here &#128071; &#128523;</p>
          <ul class="social-links footer" style="margin-top: 0.25em;">
            <!--=== social-links ===-->
            <li><a href="https://www.linkedin.com/in/madhav-malhotra/" target="_blank"><i
                  class="fa fa-linkedin"></i></a></li>
            <li><a href="https://medium.com/@madhav.malhotra003" target="_blank"><i class="fa fa-medium"></i></a></li>
            <li><a href="https://twitter.com/MadhavMalhotra_" target="_blank"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCWopBNISjL7qCH2Qch58Skw" target="_blank"><i
                  class="fa fa-youtube-play"></i></a></li>
          </ul>

          <br>

          <p id="copyright">&copy;2020 <strong>Madhav Malhotra</strong></p>
          <p>Icons by <a href="https://flaticon.com" style="color: white;">Flaticon.com</a></p>
        </div>
      </div>
    </div>
  </footer>
  <!--====== END FOOTER AREA ======-->

  <script>
    /* ========================= HARDCODE HERE ============================ */


    const links = {
      "Sun Oct 10 2021": ["https://youtu.be/1YF7KurH8Dg", "https://quizlet.com/ca/635881863/", "Thank God For Indian Food"],
      "Sun Oct 17 2021": ["https://youtu.be/ZKFQLNeIBqs", "https://quizlet.com/ca/626869343", "Overly Dramatic PSA"],
      "Sun Oct 24 2021": ["https://youtu.be/XmzvgUjQf4Y", "https://quizlet.com/ca/632717024", "A Historical Parody"],
      "Sun Oct 31 2021": ["https://youtu.be/p5qn-5ucGM8", "https://quizlet.com/ca/629919820", "An Odd Supermarket Inquiry"],
      "Sun Nov 07 2021": ["https://youtu.be/g0PsdWnY7Ec", "https://quizlet.com/_ajzjj5", "The Boy Who Loved Math"],
      "Sun Nov 14 2021": ["https://youtu.be/7qsHXDINjN4", "https://quizlet.com/_alqly4", "A Twisted Story about Pretzels"],
      "Sun Nov 21 2021": ["https://youtu.be/Z2Lu_spE9mw", "https://quizlet.com/_an6ay9", "5 Children's Classics With 10 Emotions"],
      "Sun Nov 28 2021": ["https://youtu.be/xUnMw-HZv3Y", "https://quizlet.com/_aoema0", "An Actually Green Greenhouse"],
      "Sun Dec 05 2021": ["https://youtu.be/XB8rzJAh-W4", "https://quizlet.com/_aqecj1", "The Problem with Peels"],
      "Sun Dec 12 2021": ["https://youtu.be/fTa92ksILXM", "https://quizlet.com/_arwvxy", "A Memo from the Future"],
      "Sun Dec 26 2021": ["https://youtu.be/3S7_QcPCyh4", "https://quizlet.com/_atz3rp", "Some Special Snow"],
      "Sun Jan 02 2022": ["https://youtu.be/_PHWrFGJ40s", "https://quizlet.com/_au91pd", "Nonsense Social Media Arguments"]
    }


    /* ========================= HARDCODE HERE ============================ */






    //Get times for every Sunday at 12 AM midnight from now till next September
    const firstSunday = new Date('2021-10-10T23:59:59-04:00');
    const deadlines = [firstSunday]
    for (let i = 0; i < 51; i++) {
      const lastSunday = new Date(deadlines[deadlines.length - 1].getTime())
      const nextSunday = new Date(lastSunday.setUTCDate(lastSunday.getUTCDate() + 7));
      deadlines.push(nextSunday);
    }

    //Check whether each date is in past.
    const today = new Date()
    //today.setUTCDate(today.getDate() + 2)
    deadlines.forEach(time => {
      const past = (time < today);
      let selected = links[time.toDateString()]
      if (!selected) selected = [false, "MISSED"]
      createDateEl(past, time, selected);
    });

    //Add new date to list
    function createDateEl(past, time, link) {
      //Create DOM els
      const li = document.createElement("div")
      li.className = "col-12";
      const header = document.createElement("h2");
      const subtitle = document.createElement("span")
      const options = { month: 'long', day: 'numeric' };

      //If past, just add past date and link
      if (past) {
        header.innerText = "‚úîÔ∏è " + time.toLocaleDateString("en-US", options) + ": " + link[2];
        subtitle.innerHTML = `<a href="${link[0]}" target="_blank">This Week's Challenge</a> | <a href="${link[1]}" target="_blank">This Week's Notes</a>`;
        if (!link[0]) {
          header.innerText = "‚ùå" + header.innerText.slice(1);
          li.className = 'col-12 miss';
          subtitle.innerHTML = `<a href="https://www.linkedin.com/in/madhav-malhotra" target="_blank">Humiliate me for missing a challenge...</a>`;
        }
      } else { //If future, just tag and add date to expect.
        header.innerText = "‚ùî " + time.toLocaleDateString("en-US", options) + ": ";
        header.id = "future";
        header.dataset.time = time.getTime() / 1000;
        subtitle.dataset.empty = true;
      }

      //Add elements to HTML
      li.appendChild(header);
      li.appendChild(subtitle);
      document.getElementById('date-list').appendChild(li);
    }

    //Update countdown every sec
    setInterval(() => {
      const now = Math.floor(new Date().getTime() / 1000);

      const remaining = (diff, amount) => {
        let num = Math.floor(diff / amount);
        diff -= num * amount;
        num = num.toString();
        if (num.length === 1) num = "0" + num;
        return [num, diff];
      };

      function delay(time) {
        return new Promise((res, rej) => setTimeout(() => res(true), time));
      };

      let headings = document.querySelectorAll("#future")
      headings.forEach(h => {
        const futureTime = h.dataset.time;
        let difference = (futureTime - now);
        let numWeeks, numDays, numHours, numMinutes, numSeconds;

        [numWeeks, difference] = remaining(difference, 604800);
        [numDays, difference] = remaining(difference, 86400);
        [numHours, difference] = remaining(difference, 3600);
        [numMinutes, difference] = remaining(difference, 60);
        [numSeconds, difference] = remaining(difference, 1);

        parts = h.innerText.split(":");
        timestamp = `${numWeeks}:${numDays}:${numHours}:${numMinutes}:${numSeconds}`;
        h.innerText = `${parts[0]}: COMING SOON ${timestamp}`;

        if (timestamp === "00:00:00:00:00") null;//Do stuff
      })
    }, 1000);
  </script>

  <script>
    var copy = document.getElementById('copyright')
    var year = new Date().getFullYear()
    copy.innerHTML = "&copy;" + year + " <strong>Madhav Malhotra</strong>"
  </script>

  <!--== plugins js - Need for mobile nav ==-->
  <script src="/assets/js/plugins.js"></script>

  <!--== validator js - Need for desktop nav ==-->
  <script src="/assets/js/validator.min.js"></script>

  <!--== main js ==-->
  <script src="/assets/js/main.js"></script>
</body>

</html>